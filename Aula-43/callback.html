<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercícios de callbacks</title>
</head>
<body>
    <script>
        // Ex: 1

        // class OddNumberError extends Error {
        //     constructor(message) {
        //         super(message);
        //         this.name = "OddNumberError";
        //     }
        // }
        
        // function somar(n1, n2, cb) {
        //     setTimeout(() => {
        //         const resultado = n1 + n2;

        //         if (resultado % 2 !== 0) {
        //             cb(new OddNumberError("O valor é ímpar"));
        //         } else {
        //             cb(null, resultado);
        //         }
        //     }, 2000);
        // }

        // somar(2, 3, (error, resultado) => {
        //     if (error) {
        //         console.log(`A operação falhou! ${error.message}`);
        //     } else {
        //         console.log(`A operação foi bem sucedida! O número ${resultado} é par`);
        //     }
        // });


        // Ex: 2

        // function dobrarEm5Segundos(numero, cb) {
        //     setTimeout(() => {
        //         if (isNaN(numero)) {
        //             cb(new TypeError("O valor precisa ser numérico"));
        //         } else {
        //             const dobro = numero * 2;
        //             cb(null, dobro);
        //         }
        //     }, 5000);
        // }

        // dobrarEm5Segundos("a", (error, resultado) => {
        //     if (error) {
        //         console.log(`A operação falhou! ${error.message}.`);
        //     } else {
        //         console.log(`A operação foi bem sucedida! O resultado é ${resultado}.`);
        //     }
        // });


        // Ex: 3

        // cb(error) -> Ocorreu um erro! [mensagem do erro]
        // cb(success) -> Usuário encontrado: 
        //                nome: [nome do usuário]
        //                idade: [idade do usuário]
        //                email: [email do usuário]
        
        // const listaPessoas = [
        //     {
        //         nome: "João",
        //         idade: 25,
        //         email: "joao@email.com"
        //     },
        //     {
        //         nome: "Pedro",
        //         idade: 33,
        //         email: "pedro@email.com"
        //     },
        //     {
        //         nome: "Marcos",
        //         idade: 16,
        //         email: "marcos@email.com"
        //     }
        // ];

        // class UserNotFoundError extends Error {
        //     constructor(message) {
        //         super(message);
        //         this.name = "UserNotFoundError";
        //     }
        // }

        // function obtemUsuarioPeloNome(nome, cb) {
        //     setTimeout(() => {
        //         const usuario = listaPessoas.find(pessoa => pessoa.nome === nome);

        //         if (!usuario) {
        //             cb(new UserNotFoundError("Usuário não está cadastrado"));
        //         } else {
        //             cb(null, usuario);
        //         }
        //     }, 3000);            
        // }

        // obtemUsuarioPeloNome("Pedro", (error, pessoa) => {
        //     if (error) {
        //         console.log(`Ocorreu um erro! ${error.message}.`);
        //     } else {
        //         console.log(`Usuário encontrado:\nnome: ${pessoa.nome}\nidade: ${pessoa.idade}\nemail: ${pessoa.email}.`);
        //     }
        // })
    </script>
</body>
</html>